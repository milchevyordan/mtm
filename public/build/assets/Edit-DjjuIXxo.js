import{d as $,T as S,g as c,a as t,u as a,w as o,F as h,o as p,Z as F,b as n,f as E,l as N,t as T}from"./app-BD-nXv7b.js";import{_ as U}from"./Accordion.vue_vue_type_script_setup_true_lang-Dxc_LPIL.js";import{_ as L}from"./ChangeLogs.vue_vue_type_script_setup_true_lang-BlfMQnzH.js";import{_ as P}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-bGReoGDa.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-CDdF3rV5.js";import{_ as d,a as u}from"./TextInput.vue_vue_type_script_setup_true_lang-Di6V8A2q.js";import{_ as B}from"./Table.vue_vue_type_script_setup_true_lang-VUJ_9u2v.js";import{W as g,_ as C,w as D,d as I,a as M}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-kLeIHGsv.js";import"./Modal.vue_vue_type_script_setup_true_lang-BfLFEjDD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CmEZCreb.js";const Q={class:"py-12"},W={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6"},j={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},R={class:"p-6 text-gray-900 dark:text-gray-100"},Z={class:"grid lg:grid-cols-1 xl:grid-cols-2 gap-4"},z={class:"relative rounded-lg shadow-sm bg-white dark:bg-gray-800 py-4 sm:py-6 px-4 mt-4"},A={class:"text-gray-900 dark:text-gray-100"},G={class:"flex gap-1.5"},ne=$({__name:"Edit",props:{product:{},dataTable:{},changeLogs:{}},setup(V){var _,f,y,v,x,b;const i=V,s=S({_method:"put",id:i.product.id,name:i.product.name,internal_id:i.product.internal_id,minimum_quantity:i.product.minimum_quantity,quantities:{Varna:((f=(_=i.product.quantity)==null?void 0:_.find(r=>r.warehouse==g.Varna))==null?void 0:f.quantity)??null,France:((v=(y=i.product.quantity)==null?void 0:y.find(r=>r.warehouse==g.France))==null?void 0:v.quantity)??null,Netherlands:((b=(x=i.product.quantity)==null?void 0:x.find(r=>r.warehouse==g.Netherlands))==null?void 0:b.quantity)??null}}),w=async r=>new Promise((l,e)=>{s.post(route("products.update",i.product.id),{preserveScroll:!0,preserveState:!0,forceFormData:!0,only:M(r),onSuccess:()=>{l()},onError:()=>{e(new Error("Error, during update"))}})});return(r,l)=>(p(),c(h,null,[t(a(F),{title:"Product"}),t(C,null,{header:o(()=>l[5]||(l[5]=[n("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Product ",-1)])),default:o(()=>[n("div",Q,[n("div",W,[n("div",j,[n("div",R,[n("div",Z,[n("form",{class:"mt-6 space-y-6",onSubmit:l[4]||(l[4]=E(e=>w(),["prevent"]))},[n("div",null,[t(d,{for:"name",value:"Name"}),t(u,{id:"name",modelValue:a(s).name,"onUpdate:modelValue":l[0]||(l[0]=e=>a(s).name=e),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),t(m,{class:"mt-2",message:a(s).errors.name},null,8,["message"])]),n("div",null,[t(d,{for:"internal_id",value:"Internal Id"}),t(u,{id:"internal_id",modelValue:a(s).internal_id,"onUpdate:modelValue":l[1]||(l[1]=e=>a(s).internal_id=e),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{class:"mt-2",message:a(s).errors.internal_id},null,8,["message"])]),n("div",null,[t(d,{for:"minimum_quantity",value:"Minimum Quantity"}),t(u,{id:"minimum_quantity",modelValue:a(s).minimum_quantity,"onUpdate:modelValue":l[2]||(l[2]=e=>a(s).minimum_quantity=e),type:"number",step:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),t(m,{class:"mt-2",message:a(s).errors.minimum_quantity},null,8,["message"])]),(p(!0),c(h,null,N(a(D),(e,q)=>(p(),c("div",{key:q},[t(d,{for:"quantities_"+e.name,value:`Quantity ${e.name}`},null,8,["for","value"]),t(u,{id:"quantities_"+e.name,modelValue:a(s).quantities[e.name],"onUpdate:modelValue":k=>a(s).quantities[e.name]=k,type:"number",step:"1",class:"mt-1 block w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),t(m,{class:"mt-2",message:a(s).errors["quantities."+e.name]},null,8,["message"])]))),128)),t(P,{processing:a(s).processing,"recently-successful":a(s).recentlySuccessful,onReset:l[3]||(l[3]=e=>a(s).reset())},null,8,["processing","recently-successful"])],32)])])]),t(L,{"change-logs-limited":r.product.change_logs_limited,"change-logs":r.changeLogs},null,8,["change-logs-limited","change-logs"]),n("div",z,[t(U,null,{head:o(()=>l[6]||(l[6]=[n("div",{class:"font-semibold text-xl sm:text-2xl mb-4 text-gray-900 dark:text-gray-100"}," Projects ",-1)])),default:o(()=>[n("div",A,[t(B,{"data-table":r.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"advanced-filters":!1},{"cell(created_at)":o(({value:e,item:q})=>[n("div",G,T(a(I)(e)),1)]),_:1},8,["data-table"])])]),_:1})])])])]),_:1})],64))}});export{ne as default};
