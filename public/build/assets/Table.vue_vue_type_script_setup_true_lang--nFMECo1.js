import{d as C,o as s,g as n,b as o,n as w,T as A,m as F,u as v,a as y,j as x,H as Z,p as _,e as B,t as $,I as z,F as P,l as N,h as k,c as S,w as L,k as R,z as M,A as H,r as T}from"./app-DSLhrDtp.js";import{g as W,h as D}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DFvuS7uT.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G=["stroke-width"],Y=C({__name:"Magnifying",props:{classes:{default:"w-6 h-6 flex-shrink-0"},stroke:{default:"1.5"}},setup(d){return(a,l)=>(s(),n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":a.stroke,stroke:"currentColor",class:w(a.classes)},l[0]||(l[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1)]),10,G))}}),q={class:"md:flex items-center justify-between"},J={class:"md:w-80 lg:w-96 relative"},K={class:"relative"},Q=C({__name:"GlobalSearch",props:{propName:{}},setup(d){const a=d,l=new URLSearchParams(window.location.search).get("filter[global]"),p=A({filter:{global:l,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),g=F(p.filter.global),e=W(()=>{const t=route(),i={...t.params,page:1};p.filter.global=g.value,_.visit(route(t.current(),i),{method:"get",data:{filter:{global:p.filter.global,timeZone:p.filter.timeZone}},preserveState:!0,preserveScroll:!0,only:[a.propName]})},1200);return(t,i)=>(s(),n("div",q,[o("div",J,[o("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 z-10 cursor-pointer",onClick:i[0]||(i[0]=(...c)=>v(e)&&v(e)(...c))},[y(Y,{stroke:"2",classes:"w-5 h-5 text-gray-400 dark:text-gray-300"})]),o("div",K,[x(o("input",{"onUpdate:modelValue":i[1]||(i[1]=c=>g.value=c),class:"border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-300 pl-10 pr-4 text-sm rounded-md shadow-sm focus:outline-none focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-900 dark:focus:border-indigo-600 dark:focus:ring-indigo-600 block w-full p-2.5 placeholder-gray-400 dark:placeholder-gray-500 peer transition hover:bg-gray-50 dark:hover:bg-gray-800 focus:bg-gray-50 dark:focus:bg-gray-900 z-0",placeholder:"Search...",onInput:i[2]||(i[2]=(...c)=>v(e)&&v(e)(...c))},null,544),[[Z,g.value]])])])]))}}),X=["stroke-width"],ee=C({__name:"ChevronDoubleLeft",props:{classes:{default:"mr-[1px] w-5 h-5 flex-shrink-0"},stroke:{default:"2"}},setup(d){return(a,l)=>(s(),n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":a.stroke,stroke:"currentColor",class:w(a.classes)},l[0]||(l[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"},null,-1)]),10,X))}}),te=["stroke-width"],re=C({__name:"ChevronLeft",props:{classes:{default:"mr-[1px] w-5 h-5 flex-shrink-0"},stroke:{default:"2"}},setup(d){return(a,l)=>(s(),n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":a.stroke,stroke:"currentColor",class:w(a.classes)},l[0]||(l[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"},null,-1)]),10,te))}}),ae=["stroke-width"],se=C({__name:"ChevronRight",props:{classes:{default:"ml-[1px] w-5 h-5 flex-shrink-0"},stroke:{default:"2"}},setup(d){return(a,l)=>(s(),n("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":a.stroke,stroke:"currentColor",class:w(a.classes)},l[0]||(l[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)]),10,ae))}}),oe={key:0,class:"flex justify-center sm:justify-between my-2 px-5 items-center"},ne={class:"hidden sm:block text-sm text-gray-500"},le={class:"font-semibold"},ie={class:"font-semibold"},de={class:"font-semibold"},ue={key:0,class:"flex gap-x-2"},pe=["value"],ce={class:"flex gap-x-2"},ge={key:2,class:"flex items-center gap-2 ml-2"},he=C({__name:"Pagination",props:{paginator:{},propName:{default:"dataTable"},perPageOptions:{}},setup(d){const a=d,l=F(null),p=(e,t)=>{const i=new URL(window.location.href),c=i.searchParams;return c.delete(e),c.set(e,String(t)),i.toString()},g=async()=>{await new Promise((e,t)=>{_.reload({data:{perPage:l.value},only:[a.propName],onSuccess:e,onError:t})})};return(e,t)=>Object.keys(e.paginator.links).length>1?(s(),n("div",oe,[o("div",ne,[t[1]||(t[1]=B(" Showing ")),o("span",le,$(e.paginator.currentPage*e.paginator.perPage-(e.paginator.perPage-1)),1),t[2]||(t[2]=B(" to ")),o("span",ie,$(e.paginator.currentPage==e.paginator.lastPage?e.paginator.itemsLength:e.paginator.currentPage*e.paginator.perPage),1),t[3]||(t[3]=B(" of ")),o("span",de,$(e.paginator.itemsLength),1),t[4]||(t[4]=B(" Entries "))]),e.perPageOptions?(s(),n("div",ue,[x(o("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>l.value=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block",onChange:g},[t[5]||(t[5]=o("option",{value:null}," Default ",-1)),(s(!0),n(P,null,N(e.perPageOptions,i=>(s(),n("option",{value:i},$(i),9,pe))),256))],544),[[z,l.value]])])):k("",!0),o("div",ce,[e.paginator.currentPage-e.paginator.pagesRange>1?(s(),S(v(R),{key:0,class:"element-center rounded w-9 h-9 leading-4 text-sm transition text-gray-500 hover:text-white bg-white hover:bg-[#008FE3]",only:[e.propName,"paginator"],"preserve-state":!0,href:p("page",1),"preserve-scroll":""},{default:L(()=>[y(ee)]),_:1},8,["only","href"])):k("",!0),e.paginator.currentPage!==1?(s(),S(v(R),{key:1,class:"element-center rounded w-9 h-9 leading-4 text-sm transition text-gray-500 hover:text-white bg-white hover:bg-[#008FE3]",href:p("page",e.paginator.currentPage-1)},{default:L(()=>[y(re)]),_:1},8,["href"])):k("",!0),(s(!0),n(P,null,N(e.paginator.links,(i,c)=>(s(),n("div",null,[y(v(R),{class:w(["element-center rounded w-9 h-9 leading-4 text-sm transition",c==e.paginator.currentPage?"bg-[#008FE3] text-white":"text-gray-500 hover:text-white bg-white hover:bg-[#008FE3]"]),only:[e.propName,"paginator"],"preserve-scroll":"","preserve-state":!0,href:i},{default:L(()=>[B($(c),1)]),_:2},1032,["only","href","class"])]))),256)),e.paginator.currentPage+e.paginator.pagesRange<e.paginator.lastPage?(s(),n("div",ge,[t[6]||(t[6]=o("div",{class:"text-xl tracking-widest mt-2"}," ... ",-1)),y(v(R),{class:"element-center rounded w-9 h-9 leading-4 text-sm transition text-gray-500 hover:text-white bg-white hover:bg-[#008FE3]",only:[e.propName],"preserve-scroll":"","preserve-state":!0,href:e.paginator.lastPageUrl},{default:L(()=>[B($(e.paginator.lastPage),1)]),_:1},8,["only","href"])])):k("",!0),e.paginator.currentPage<e.paginator.lastPage?(s(),S(v(R),{key:3,class:"element-center rounded w-9 h-9 leading-4 text-sm transition text-gray-500 hover:text-white bg-white hover:bg-[#008FE3]",only:[e.propName],"preserve-scroll":"","preserve-state":!0,href:p("page",e.paginator.currentPage+1)},{default:L(()=>[y(se)]),_:1},8,["only","href"])):k("",!0)])])):k("",!0)}}),be=["id","value","name","checked"],me=["for"],V=C({__name:"RadioButton",props:{name:{},id:{},value:{},label:{},classes:{default:"peer-checked:bg-slate-500 peer-checked:text-white peer-checked:border-blue-200 border"},checked:{type:Boolean},disabled:{type:Boolean}},emits:["click"],setup(d,{emit:a}){const l=d,p=a,g=()=>{l.disabled||p("click")},e=`bg-slate-300 cursor-default dark:bg-gray-800 dark:text-gray-400 ${l.checked?"bg-slate-500 text-white dark:bg-gray-700 dark:text-white":""}`;return(t,i)=>(s(),n(P,null,[o("input",{id:t.id,type:"radio",value:t.value,name:t.name,class:"peer hidden",checked:t.checked},null,8,be),o("label",{for:t.id,class:w(`${t.disabled?e:t.classes}
        ${t.disabled?"cursor-default":"cursor-pointer transition-all active:scale-95"}
        relative flex shadow-md text-slate-500 border border-blue-200 px-4 py-1.5 dark:text-gray-300 dark:border-gray-700 dark:bg-gray-900`),onClick:g},$(t.label),11,me)],64))}}),fe=C({__name:"RadioButtonToggle",props:M({name:{},classes:{default:"flex sm:justify-end mb-3.5 sm:mb-0"},disabled:{type:Boolean},leftButtonLabel:{default:"Yes"},rightButtonLabel:{default:"No"}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:M(["change"],["update:modelValue"]),setup(d,{emit:a}){const l=a,p=d,g=H(d,"modelValue"),e=t=>{g.value=t,l("change",{name:p.name,value:t})};return(t,i)=>(s(),n("div",null,[o("div",{class:w(t.classes)},[o("div",null,[y(V,{id:"yes_"+t.name,label:t.leftButtonLabel,name:t.name,disabled:t.disabled,classes:"peer-checked:bg-[#008FE3] peer-checked:text-white peer-checked:border-blue-200 border border-r-0 rounded-l-md bg-white dark:bg-gray-900 dark:border-gray-700",checked:g.value==!0,onClick:i[0]||(i[0]=c=>e(!0))},null,8,["id","label","name","disabled","checked"])]),o("div",null,[y(V,{id:"no_"+t.name,label:t.rightButtonLabel,name:t.name,disabled:t.disabled,classes:"peer-checked:bg-[#008FE3] peer-checked:text-white peer-checked:border-blue-200 border border-l-0 rounded-r-md bg-white dark:bg-gray-900 dark:border-gray-700",checked:g.value==!1,onClick:i[1]||(i[1]=c=>e(!1))},null,8,["id","label","name","disabled","checked"])])],2)]))}}),ke=C({__name:"TrashedRecords",props:{propName:{}},setup(d){var e;const a=d,l=route(),p=F(((e=l.params.filter)==null?void 0:e.trashed)=="true"),g=async t=>{await new Promise((i,c)=>{_.reload({data:{filter:{trashed:t.value}},only:[a.propName],onSuccess:i,onError:c})})};return(t,i)=>(s(),S(fe,{key:"filter[trashed]",modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=c=>p.value=c),name:"filter[trashed]","left-button-label":"Archived","right-button-label":"Not Archived",onChange:g},null,8,["modelValue"]))}}),ve={},ye={width:"8",height:"6",viewBox:"0 0 9 7",fill:"none"};function we(d,a){return s(),n("svg",ye,a[0]||(a[0]=[o("path",{d:"M8.46854 0.938232H0.53146C0.293396 0.938232 0.160467 1.18959 0.307898 1.36119L4.27644 5.96295C4.39003 6.09468 4.60876 6.09468 4.72356 5.96295L8.6921 1.36119C8.83953 1.18959 8.7066 0.938232 8.46854 0.938232Z",fill:"#BDBCBC"},null,-1)]))}const Ce=O(ve,[["render",we]]),$e={},_e={width:"8",height:"6",viewBox:"0 0 9 7",fill:"none"};function Pe(d,a){return s(),n("svg",_e,a[0]||(a[0]=[o("path",{d:"M8.6921 5.63879L4.72356 1.03702C4.60997 0.905302 4.39124 0.905302 4.27644 1.03702L0.307898 5.63879C0.160467 5.81039 0.293396 6.06174 0.53146 6.06174H8.46854C8.7066 6.06174 8.83953 5.81039 8.6921 5.63879Z",fill:"#BDBCBC"},null,-1)]))}const Se=O($e,[["render",Pe]]);function j(d){return Array.isArray(d)?d.join("."):d}const Be=(d,a)=>typeof d!="string"?d:d.length>a?d.substring(0,a)+"...":d,Le=C({__name:"Restore",props:{classes:{default:"w-6 h-6 flex-shrink-0"},solid:{}},setup(d){return(a,l)=>a.solid?(s(),n("svg",{key:0,viewBox:"0 0 25 25",fill:"currentColor",class:w(a.classes)},l[0]||(l[0]=[o("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5"},null,-1),o("path",{d:"M7 11L4.5 13.5L2 11"},null,-1)]),2)):(s(),n("svg",{key:1,fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:w(a.classes)},l[1]||(l[1]=[o("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5"},null,-1),o("path",{d:"M7 11L4.5 13.5L2 11"},null,-1)]),2))}}),Re={key:0,class:"bg-white dark:bg-gray-800 border border-[#E9E7E7] dark:border-gray-700 rounded-lg p-4 mb-4 sm:flex items-center justify-between shadow"},Te={key:2,class:"sm:flex items-center gap-2"},Ne={class:"table-container max-w-full overflow-x-auto"},Fe={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Ee={class:"text-xs uppercase text-black dark:text-gray-200 bg-[#F0F0F0] dark:bg-gray-700"},Me=["onClick"],Ve={class:"w-full flex items-center gap-1.5"},je={key:0},xe=["onClick"],Oe={class:"whitespace-nowrap px-6 py-3.5"},Ie={key:0},Ue={key:1},Ae={key:2},Ze={key:3},ze={key:4},He=["onClick"],We={key:5},De={key:1},Ge=["colspan"],Ye=["colspan"],Xe=C({__name:"Table",props:{dataTable:{},propName:{default:"dataTable"},globalSearch:{type:Boolean},showTrashed:{type:Boolean},advancedFilters:{type:Boolean},selectedRowIndexes:{},selectedRowColumn:{},rowClickLink:{},perPageOptions:{}},setup(d){const a=d,l=route(),p=()=>{var r,h;return!!((h=(r=l.params)==null?void 0:r.filter)!=null&&h.trashed)&&l.params.filter.trashed==="true"};let g=null,e=null;const t=a.rowClickLink?a.rowClickLink.includes("?id"):!1,i=(r,h,u)=>{const b=r[h];return b?b!==void 0&&b[u]!==void 0?b[u]===""?"":b[u]:"Undefined relation":""},c=(r,h)=>{typeof a.rowClickLink<"u"&&!p()&&t&&["DIV","TD"].includes(r.target.tagName)&&_.get(D(a.rowClickLink,h))},I=async(r,h)=>{var b,m;if(!r)return;let u=((m=(b=l.params)==null?void 0:b.ordering)==null?void 0:m.direction)||"desc";h===g&&(u=e==="asc"?"desc":"asc"),await new Promise((f,E)=>{_.reload({data:{ordering:{key:h,direction:u}},only:[a.propName],onSuccess:f,onError:E})}),g=h,e=u},U=async r=>{await new Promise((u,b)=>{_.reload({data:{restore_id:r},only:[a.propName],onSuccess:u,onError:b})});const h=new URL(window.location.href);h.searchParams.delete("restore_id"),_.replace(h.toString())};return(r,h)=>(s(),n(P,null,[r.globalSearch||r.$slots.advancedFilters||r.$slots.additionalContent?(s(),n("div",Re,[r.globalSearch?(s(),S(Q,{key:0,"prop-name":r.propName},null,8,["prop-name"])):k("",!0),r.showTrashed?(s(),S(ke,{key:1,"prop-name":r.propName},null,8,["prop-name"])):k("",!0),r.$slots.advancedFilters||r.$slots.additionalContent?(s(),n("div",Te,[T(r.$slots,"advancedFilters"),T(r.$slots,"additionalContent")])):k("",!0)])):k("",!0),o("div",Ne,[o("table",Fe,[o("thead",Ee,[o("tr",null,[(s(!0),n(P,null,N(r.dataTable.columns,(u,b)=>(s(),n("th",{scope:"col",class:w(["px-6 py-3 border-r dark:border-gray-600",u.orderable?"cursor-pointer":"cursor-default"]),onClick:m=>I(u.orderable,String(b))},[o("div",Ve,[o("span",null,$(u.label),1),u.orderable?(s(),n("span",je,[y(Se),y(Ce)])):k("",!0)])],10,Me))),256))])]),o("tbody",null,[r.dataTable.data.length>0?(s(!0),n(P,{key:0},N(r.dataTable.data,(u,b)=>(s(),n("tr",{class:w([b!==r.dataTable.data.length-1?"border-b dark:border-gray-600":"",r.selectedRowIndexes&&r.selectedRowColumn&&(r.selectedRowIndexes.includes(Number(u[r.selectedRowColumn]))||r.selectedRowIndexes.includes(u[r.selectedRowColumn]))?"bg-blue-400 dark:bg-blue-800 text-white":"bg-white dark:bg-gray-800",{"cursor-pointer":v(t)&&!p()}]),onClick:m=>c(m,u.id)},[(s(!0),n(P,null,N(r.dataTable.columns,(m,f,E)=>(s(),n("td",Oe,[m.relation&&r.$slots[`cell(${v(j)(m.relationWithColumn)})`]?(s(),n("div",Ie,[T(r.$slots,`cell(${v(j)(m.relationWithColumn)})`,{value:u[m.relation],item:u})])):m.relation&&!r.$slots[`cell(${String(f)})`]?(s(),n("div",Ue,$(i(u,m.relation.relationTable,m.relation.relationColumn)),1)):k("",!0),r.$slots[`cell(${String(f)})`]&&!p()?(s(),n("div",Ae,[T(r.$slots,`cell(${String(f)})`,{value:u[f],item:u})])):r.$slots[`cell(${String(f)})`]&&p()&&f!=="action"?(s(),n("div",Ze,[T(r.$slots,`cell(${String(f)})`,{value:u[f],item:u})])):r.$slots[`cell(${String(f)})`]&&p()&&f==="action"?(s(),n("div",ze,[o("button",{class:"border border-[#E9E7E7] rounded-md p-1 active:scale-90 transition bg-blue-100 text-blue-500 duration-300 ease-in-out hover:bg-blue-200",title:"Restore",onClick:qe=>U(u.id)},[y(Le,{classes:"w-4 h-4"})],8,He)])):(s(),n("div",We,$(v(Be)(u[f],35)),1))]))),256))],10,xe))),256)):(s(),n("tr",De,[o("td",{class:"bg-white dark:bg-gray-800 text-center py-5 text-lg font-semibold text-gray-900 dark:text-gray-100",colspan:Object.keys(a.dataTable.columns).length}," No found data ",8,Ge)]))]),o("tfoot",null,[o("td",{class:"bg-[#F0F0F0] dark:bg-gray-700",colspan:Object.keys(a.dataTable.columns).length},[r.dataTable.data.length>1||r.dataTable.paginator.currentPage>1?(s(),S(he,{key:0,paginator:r.dataTable.paginator,"prop-name":r.propName,"per-page-options":r.perPageOptions},null,8,["paginator","prop-name","per-page-options"])):k("",!0)],8,Ye)])])])],64))}});export{Xe as _};
