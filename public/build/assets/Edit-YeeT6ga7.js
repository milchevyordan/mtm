import{d as S,T as _,m as D,g as V,a as t,u as e,w as n,F,o as C,Z as T,b as r,f as h,t as p,k as v}from"./app-BliSSpND.js";import{_ as P}from"./Accordion.vue_vue_type_script_setup_true_lang-DzvdDFP-.js";import{_ as W}from"./ChangeLogs.vue_vue_type_script_setup_true_lang-BN0hrlyz.js";import{_ as y}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-C4swGBwp.js";import{_ as b}from"./InputError.vue_vue_type_script_setup_true_lang-DnU0KYW2.js";import{_ as x}from"./InputLabel.vue_vue_type_script_setup_true_lang-BbnvtZo3.js";import{_ as B}from"./Modal.vue_vue_type_script_setup_true_lang-DqoHt14X.js";import{_ as L}from"./Select.vue_vue_type_script_setup_true_lang-B33ZjH_L.js";import{_ as M}from"./TextInput.vue_vue_type_script_setup_true_lang-B60ZwPZx.js";import{_ as N}from"./Table.vue_vue_type_script_setup_true_lang-D9W-GynS.js";import{_ as R,W as U,d as w,a as q}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BmzAye5D.js";import{_ as Z}from"./PencilSquare.vue_vue_type_script_setup_true_lang-BOdy4GF2.js";import{_ as z}from"./Trash.vue_vue_type_script_setup_true_lang-BCaK1J3b.js";import{_ as A}from"./DocumentText.vue_vue_type_script_setup_true_lang-CBvcJqx-.js";import"./PrimaryButton-CVjRWY4T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton.vue_vue_type_script_setup_true_lang-DddMWYiw.js";import"./multiselect-DgXSBgl5.js";import"./ApplicationLogo-CW99TPgB.js";const G={class:"py-12"},H={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6"},I={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},J={class:"p-6 text-gray-900 dark:text-gray-100"},K={class:"grid lg:grid-cols-1 xl:grid-cols-2 gap-4"},O={class:"relative rounded-lg shadow-sm bg-white dark:bg-gray-800 py-4 sm:py-6 px-4 mt-4"},Q={class:"text-gray-900 dark:text-gray-100"},X={class:"flex gap-1.5"},Y={class:"flex gap-1.5"},ee=["onClick"],se={class:"border-b border-gray-100 dark:border-gray-700 px-3.5 p-3 text-xl font-medium"},we=S({__name:"Edit",props:{project:{},dataTable:{},changeLogs:{}},setup(k){const c=k,l=_({_method:"put",id:c.project.id,name:c.project.name,warehouse:c.project.warehouse}),$=async a=>new Promise((s,o)=>{l.post(route("projects.update",c.project.id),{preserveScroll:!0,preserveState:!0,forceFormData:!0,only:q(a),onSuccess:()=>{s()},onError:()=>{o(new Error("Error, during update"))}})}),m=D(!1),f=()=>{m.value=!1,d.reset()},E=a=>{var s;d.id=a.id,d.name=(s=a.product)==null?void 0:s.name,d.created_at=a.created_at,m.value=!0},d=_({id:null,name:null,created_at:null}),j=()=>{d.delete(route("projects.destroy-product"),{preserveScroll:!0}),f()};return(a,s)=>(C(),V(F,null,[t(e(T),{title:"Project"}),t(R,null,{header:n(()=>s[5]||(s[5]=[r("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Project ",-1)])),default:n(()=>[r("div",G,[r("div",H,[r("div",I,[r("div",J,[r("div",K,[r("form",{class:"mt-6 space-y-6",onSubmit:s[3]||(s[3]=h(o=>$(),["prevent"]))},[r("div",null,[t(x,{for:"name",value:"Name"}),t(M,{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(l).name=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(b,{class:"mt-2",message:e(l).errors.name},null,8,["message"])]),r("div",null,[t(x,{for:"warehouse",value:"Warehouse"}),t(L,{modelValue:e(l).warehouse,"onUpdate:modelValue":s[1]||(s[1]=o=>e(l).warehouse=o),name:"warehouse",options:e(U),placeholder:"Warehouse",class:"mt-1 block w-full mb-3.5"},null,8,["modelValue","options"]),t(b,{class:"mt-2",message:e(l).errors.warehouse},null,8,["message"])]),t(y,{processing:e(l).processing,"recently-successful":e(l).recentlySuccessful,onReset:s[2]||(s[2]=o=>e(l).reset())},null,8,["processing","recently-successful"])],32)])])]),r("div",O,[t(P,null,{head:n(()=>s[6]||(s[6]=[r("div",{class:"font-semibold text-xl sm:text-2xl mb-4 text-gray-900 dark:text-gray-100"}," Products ",-1)])),default:n(()=>[r("div",Q,[t(N,{"data-table":a.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"advanced-filters":!1},{"cell(created_at)":n(({value:o,item:i})=>[r("div",X,p(e(w)(o)),1)]),"cell(action)":n(({value:o,item:i})=>{var u,g;return[r("div",Y,[t(e(v),{class:"border border-[#E9E7E7] dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Edit product",href:a.route("products.edit",(u=i.product)==null?void 0:u.id)},{default:n(()=>[t(Z,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),t(e(v),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Show product",href:a.route("products.show",(g=i.product)==null?void 0:g.id)},{default:n(()=>[t(A,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),r("button",{title:"Delete product",class:"border border-[#E9E7E7] dark:border-gray-700 rounded-md p-1 active:scale-90 transition",onClick:te=>E(i)},[t(z,{classes:"w-4 h-4 text-[#909090]"})],8,ee)])]}),_:1},8,["data-table"])])]),_:1})]),t(W,{"change-logs-limited":a.project.change_logs_limited,"change-logs":a.changeLogs},null,8,["change-logs-limited","change-logs"])])])]),_:1}),t(B,{show:m.value,onClose:f},{default:n(()=>{var o,i;return[r("div",se," Delete product "+p(((o=e(d))==null?void 0:o.name)??"")+" added on "+p(e(w)((i=e(d))==null?void 0:i.created_at))+" ? ",1),r("form",{class:"col-span-2 flex justify-end gap-3 my-2 pt-1 px-4",onSubmit:h(j,["prevent"])},[t(y,{processing:e(d).processing,"recently-successful":e(d).recentlySuccessful,"is-delete":!0,onReset:s[4]||(s[4]=u=>e(d).reset())},null,8,["processing","recently-successful"])],32)]}),_:1},8,["show"])],64))}});export{we as default};
