import{d as $,m as h,T as C,g,a as t,u as e,w as s,F as M,o as b,Z as S,b as a,k as c,e as j,t as i,h as V,f as B,q as E}from"./app-DapBW2EV.js";import{_ as F}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-n3dw5b-i.js";import{_ as y}from"./Modal.vue_vue_type_script_setup_true_lang-CHu_SmNk.js";import{_ as v}from"./Table.vue_vue_type_script_setup_true_lang-BgbxKFsI.js";import{P as N}from"./ProductType-DHxMMxY3.js";import{_ as W,f as x,W as q,d as m,r as I}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-Cb408-1X.js";import{_ as K}from"./Document.vue_vue_type_script_setup_true_lang-yWOqUsF0.js";import{_ as w}from"./DocumentText.vue_vue_type_script_setup_true_lang-DmhEPTep.js";import{_ as L}from"./PencilSquare.vue_vue_type_script_setup_true_lang-CrUEsMyZ.js";import{_ as R}from"./Trash.vue_vue_type_script_setup_true_lang-D1VzK2p4.js";import"./PrimaryButton-D3xmpsCX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton.vue_vue_type_script_setup_true_lang-Bdl0aDCV.js";import"./Select.vue_vue_type_script_setup_true_lang-C6jMc4p7.js";import"./multiselect-DZ7PeIVW.js";import"./ApplicationLogo-CEwqYtxw.js";const U={class:"py-12"},Z={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},z={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},A={class:"p-6 text-gray-900 dark:text-gray-100"},G={class:"w-full flex gap-2"},H={class:"flex gap-1.5"},J={class:"flex gap-1.5"},O={class:"flex gap-1.5"},Q=["onClick"],X=["onClick"],Y={key:0,class:"text-gray-900 dark:text-gray-100"},ee={class:"flex gap-1.5"},ae={class:"flex gap-1.5"},te={class:"flex gap-1.5"},se={class:"border-b border-gray-100 dark:border-gray-700 px-3.5 p-3 text-xl font-medium"},xe=$({__name:"Index",props:{dataTable:{},showProductsDataTable:{}},setup(re){const u=h(!1),k=()=>{u.value=!1},T=async o=>{await new Promise((n,d)=>{E.reload({data:{project_id:o},only:["showProductsDataTable"],onSuccess:n,onError:d})}),u.value=!0},p=h(!1),l=C({id:null,name:null,created_at:null}),D=o=>{l.id=o.id,l.name=o.name,l.created_at=o.created_at,p.value=!0},f=()=>{p.value=!1,l.reset()},P=()=>{l.delete(route("projects.destroy",l.id),{preserveScroll:!0}),f()};return(o,n)=>(b(),g(M,null,[t(e(S),{title:"Проект"}),t(W,null,{header:s(()=>n[1]||(n[1]=[a("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Проект ",-1)])),default:s(()=>[a("div",U,[a("div",Z,[a("div",z,[a("div",A,[t(v,{"data-table":o.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"show-trashed":!0,"advanced-filters":!1},{additionalContent:s(()=>[a("div",G,[t(e(c),{class:"w-full md:w-auto border border-gray-300 dark:border-gray-700 rounded-md px-5 py-1.5 active:scale-95 transition hover:bg-gray-50 dark:hover:bg-gray-800",href:o.route("projects.create")},{default:s(()=>n[2]||(n[2]=[j(" Създай Проект ")])),_:1},8,["href"])])]),"cell(warehouse)":s(({value:d,item:r})=>[a("div",H,i(e(x)(e(q),d)),1)]),"cell(created_at)":s(({value:d,item:r})=>[a("div",J,i(e(m)(d)),1)]),"cell(action)":s(({value:d,item:r})=>[a("div",O,[t(e(c),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Редактирай проект",href:o.route("projects.edit",r.id)},{default:s(()=>[t(L,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),t(e(c),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Покажи проект",href:o.route("projects.show",r.id)},{default:s(()=>[t(w,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),a("button",{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Покажи проект",onClick:_=>T(r.id)},[t(K,{classes:"w-4 h-4 text-[#909090]"})],8,Q),a("button",{title:"Изтрий проект",class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",onClick:_=>D(r)},[t(R,{classes:"w-4 h-4 text-[#909090]"})],8,X)])]),_:1},8,["data-table"])])])])])]),_:1}),t(y,{show:u.value,"max-width":"6xl",onClose:k},{default:s(()=>[n[3]||(n[3]=a("div",{class:"px-3.5 p-3 text-xl font-medium"}," Продукти ",-1)),o.showProductsDataTable?(b(),g("div",Y,[t(v,{"data-table":o.showProductsDataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"type-search":!0,"advanced-filters":!1,"prop-name":"showProductsDataTable"},{"cell(created_at)":s(({value:d,item:r})=>[a("div",ee,i(e(m)(d)),1)]),"cell(product.type)":s(({value:d,item:r})=>[a("div",ae,i(e(I)(e(x)(e(N),r.product.type))),1)]),"cell(action)":s(({value:d,item:r})=>[a("div",te,[t(e(c),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Покажи проект",href:o.route("products.show",r.product_id)},{default:s(()=>[t(w,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"])])]),_:1},8,["data-table"])])):V("",!0)]),_:1},8,["show"]),t(y,{show:p.value,onClose:f},{default:s(()=>{var d,r;return[a("div",se," Delete проект "+i(((d=e(l))==null?void 0:d.name)??"")+" added on "+i(e(m)((r=e(l))==null?void 0:r.created_at))+" ? ",1),a("form",{class:"col-span-2 flex justify-end gap-3 my-2 pt-1 px-4",onSubmit:B(P,["prevent"])},[t(F,{processing:e(l).processing,"recently-successful":e(l).recentlySuccessful,"is-delete":!0,onReset:n[0]||(n[0]=_=>e(l).reset())},null,8,["processing","recently-successful"])],32)]}),_:1},8,["show"])],64))}});export{xe as default};
