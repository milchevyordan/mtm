import{d as f,o as i,g as c,b as e,n as v,T as _,i as w,a as d,u as n,w as s,F as y,Z as C,t as p}from"./app-DNzCrRZN.js";import{_ as E}from"./Table.vue_vue_type_script_setup_true_lang-BCLJ4Lew.js";import{_ as S,d as g}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-JRAjt2nF.js";import"./Select.vue_vue_type_script_setup_true_lang-CijPz9Ej.js";import"./multiselect-CuXlu8jW.js";import"./ProductType-DHxMMxY3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-zYrl91-7.js";const T=["stroke-width"],$=f({__name:"Check",props:{classes:{default:"w-6 h-6 flex-shrink-0"},stroke:{default:"1.5"}},setup(m){return(r,t)=>(i(),c("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":r.stroke,stroke:"currentColor",class:v(r.classes)},t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1)]),10,T))}}),B={class:"py-12"},F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},R={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},A={class:"p-6 text-gray-900 dark:text-gray-100"},M={class:"flex gap-1.5"},N={class:"flex gap-1.5"},V={class:"flex gap-1.5"},j=["disabled","onClick"],z={key:1},K=f({__name:"Index",props:{dataTable:{}},setup(m){const r=m,t=_({id:null}),h=a=>{t.id=a,t.put(route("notifications.read",t.id),{preserveScroll:!0,onSuccess:()=>{t.reset()},onError:()=>{}})},k=_({_method:"post"}),x=()=>{k.post(route("notifications.read-all"),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{}})},b=w(()=>r.dataTable.data.filter(a=>a.read_at==null).map(a=>a.id));return(a,u)=>(i(),c(y,null,[d(n(C),{title:"Известия"}),d(S,null,{header:s(()=>u[0]||(u[0]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Известия ",-1)])),default:s(()=>[e("div",B,[e("div",F,[e("div",R,[e("div",A,[d(E,{"data-table":a.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"selected-row-indexes":b.value,"selected-row-column":"id"},{additionalContent:s(()=>[e("div",{class:"w-full flex gap-2"},[e("button",{class:"w-full md:w-auto border border-gray-300 dark:border-gray-700 rounded-md px-5 py-1.5 active:scale-95 transition hover:bg-gray-50 dark:hover:bg-gray-800",onClick:x}," Маркиране всички като прочетени ")])]),"cell(data)":s(({value:o,item:l})=>[e("div",M,p(o.message),1)]),"cell(created_at)":s(({value:o,item:l})=>[e("div",N,p(n(g)(o)),1)]),"cell(read_at)":s(({value:o,item:l})=>[e("div",V,[l.read_at?(i(),c("div",z,p(n(g)(o)),1)):(i(),c("button",{key:0,title:"Mark read",disabled:n(t).processing,class:"border border-[#E9E7E7] rounded-md p-1 active:scale-90 transition",onClick:D=>h(l.id)},[d($,{classes:"w-4 h-4 text-slate-300"})],8,j))])]),_:1},8,["data-table","selected-row-indexes"])])])])])]),_:1})],64))}});export{K as default};
