import{d as k,T as q,g as c,a,u as t,w as l,F as f,o as n,Z as R,b as e,t as g,k as h,l as E,n as y,h as V}from"./app-n74OYpRG.js";import{_ as $}from"./Accordion.vue_vue_type_script_setup_true_lang-1Uegg_rx.js";import{_ as b}from"./InputError.vue_vue_type_script_setup_true_lang-DzrSQ1Sp.js";import{_ as P}from"./InputLabel.vue_vue_type_script_setup_true_lang-DPdSHTyv.js";import{_ as S}from"./Select.vue_vue_type_script_setup_true_lang-Bz18iHBK.js";import{_ as C}from"./TextInput.vue_vue_type_script_setup_true_lang-kMXgFhbd.js";import{_ as N}from"./Table.vue_vue_type_script_setup_true_lang-C7LsGOlu.js";import{P as T}from"./ProductRequestStatus-tW5n8ZRv.js";import{P as U}from"./ProductType-DHxMMxY3.js";import{_ as B,r as v,f as W,W as j}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-CEJEOf-p.js";import{_ as z}from"./DocumentText.vue_vue_type_script_setup_true_lang-BGW9lKFz.js";import{_ as F}from"./PencilSquare.vue_vue_type_script_setup_true_lang-CNW935SM.js";import{_ as A}from"./Tick.vue_vue_type_script_setup_true_lang-BnCmmKhy.js";import"./multiselect-jN0iGq9c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-tqYM_NWm.js";const D={class:"py-12"},K={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},L={class:"relative rounded-lg shadow-sm bg-white dark:bg-gray-800 py-4 sm:py-6 px-4"},O={class:"text-gray-900 dark:text-gray-100"},Q={class:"flex-col gap-1.5 pt-2"},Z={class:"flex gap-1.5"},G={class:"flex gap-1.5"},H={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800 mt-4"},I={class:"p-6 text-gray-900 dark:text-gray-100"},J={class:"grid lg:grid-cols-1 xl:grid-cols-2 gap-4"},M={class:"mt-6 space-y-6"},X={class:"p-2 pt-8"},Y={class:"flex items-center"},ee=["onClick"],te={class:"flex items-center"},se={key:0,class:"flex w-full bg-gray-200 h-0.5 dark:bg-gray-700"},ae={class:"mt-3"},re={class:"font-medium text-gray-900 dark:text-white"},xe=k({__name:"Edit",props:{productRequest:{},dataTable:{},productProductRequest:{}},setup(x){const i=x,u=q({_method:"put",id:i.productRequest.id,warehouse:i.productRequest.warehouse,status:null,products:i.productProductRequest}),p=s=>s>i.productRequest.status,w=async s=>{if(p(s))return u.status=s,new Promise((d,r)=>{u.post(route("product-requests.update",i.productRequest.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{d()},onError:()=>{r(new Error("Error, during update"))}})})},m=Object.entries(T).filter(([s])=>isNaN(Number(s))).map(([s,d])=>({name:s,value:d}));return(s,d)=>(n(),c(f,null,[a(t(R),{title:"Product Request"}),a(B,null,{header:l(()=>d[1]||(d[1]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Product Request ",-1)])),default:l(()=>[e("div",D,[e("div",K,[e("div",L,[a($,null,{head:l(()=>d[2]||(d[2]=[e("div",{class:"font-semibold text-xl sm:text-2xl mb-4 text-gray-900 dark:text-gray-100"}," Продукти ",-1)])),default:l(()=>[e("div",O,[a(N,{"data-table":s.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"type-search":!0,"advanced-filters":!1},{"cell(actual_quantity)":l(({value:r,item:o})=>[e("div",Q,[a(C,{id:"actual_quantities_"+o.product_id,modelValue:t(u).products[o.product_id].actual_quantity,"onUpdate:modelValue":_=>t(u).products[o.product_id].actual_quantity=_,type:"number",placeholder:"Actual Quantity Received",step:"1",class:"block w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),a(b,{class:"mt-2",message:t(u).errors["products."+o.product_id+".actual_quantity"]},null,8,["message"])])]),"cell(product.type)":l(({value:r,item:o})=>[e("div",Z,g(t(v)(t(W)(t(U),o.product.type))),1)]),"cell(action)":l(({value:r,item:o})=>[e("div",G,[a(t(h),{class:"border border-[#E9E7E7] dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Edit product",href:s.route("products.edit",o.product_id)},{default:l(()=>[a(F,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),a(t(h),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Show product",href:s.route("products.show",o.product_id)},{default:l(()=>[a(z,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"])])]),_:1},8,["data-table"])])]),_:1})]),e("div",H,[e("div",I,[e("div",J,[e("div",M,[e("div",null,[a(P,{for:"warehouse",value:"To Warehouse"}),a(S,{id:"warehouse",modelValue:t(u).warehouse,"onUpdate:modelValue":d[0]||(d[0]=r=>t(u).warehouse=r),name:"warehouse",options:t(j),placeholder:"To Warehouse",disabled:"",class:"mt-1 block w-full mb-3.5"},null,8,["modelValue","options"]),a(b,{class:"mt-2",message:t(u).errors.warehouse},null,8,["message"])]),e("div",X,[e("ol",Y,[(n(!0),c(f,null,E(t(m),(r,o)=>(n(),c("li",{key:o,class:y(["relative w-full mb-6",{"cursor-pointer":p(r.value)}]),onClick:_=>w(r.value)},[e("div",te,[e("div",{class:y(["z-10 flex items-center justify-center w-6 h-6 rounded-full ring-0 ring-white sm:ring-8 dark:ring-gray-900 shrink-0",{"bg-blue-600 dark:bg-blue-900":s.productRequest.status>=r.value,"bg-gray-200 dark:bg-gray-700":s.productRequest.status<r.value}])},[a(A)],2),r.value<t(m).length?(n(),c("div",se)):V("",!0)]),e("div",ae,[e("h3",re,g(t(v)(r.name)),1)])],10,ee))),128))])])])])])])])])]),_:1})],64))}});export{xe as default};
