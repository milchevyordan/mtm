import{d as k,m as $,T as C,i as T,g as D,a as l,u as e,w as s,F as N,o as _,Z as S,b as t,k as u,e as q,t as n,c as B,h as V,f as M}from"./app-DNzCrRZN.js";import{_ as E}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-YRV1gGzj.js";import{_ as F}from"./Modal.vue_vue_type_script_setup_true_lang-DRaBN26d.js";import{_ as P}from"./Table.vue_vue_type_script_setup_true_lang-BCLJ4Lew.js";import{P as m}from"./ProductRequestStatus-tW5n8ZRv.js";import{_ as R,r as W,f as g,W as j,d as p}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-JRAjt2nF.js";import{_ as I}from"./DocumentText.vue_vue_type_script_setup_true_lang-DCMvrWDE.js";import{_ as K}from"./PencilSquare.vue_vue_type_script_setup_true_lang-CAQ2lHp3.js";import{_ as L}from"./Trash.vue_vue_type_script_setup_true_lang-BWupC1bQ.js";import"./PrimaryButton-PQwFCoLq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton.vue_vue_type_script_setup_true_lang-iIhSi5i1.js";import"./Select.vue_vue_type_script_setup_true_lang-CijPz9Ej.js";import"./multiselect-CuXlu8jW.js";import"./ProductType-DHxMMxY3.js";import"./ApplicationLogo-zYrl91-7.js";const U={class:"py-12"},Y={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Z={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},z={class:"p-6 text-gray-900 dark:text-gray-100"},A={class:"w-full flex gap-2"},G={class:"flex gap-1.5"},H={class:"flex gap-1.5"},J={class:"flex gap-1.5"},O={class:"flex gap-1.5"},Q={class:"flex gap-1.5"},X=["onClick"],ee={class:"border-b border-gray-100 dark:border-gray-700 px-3.5 p-3 text-xl font-medium"},he=k({__name:"Index",props:{dataTable:{}},setup(h){const y=h,c=$(!1),d=C({id:null,name:null,created_at:null}),b=a=>{d.id=a.id,d.created_at=a.created_at,c.value=!0},f=()=>{c.value=!1,d.reset()},v=()=>{d.delete(route("product-requests.destroy",d.id),{preserveScroll:!0}),f()},x=T(()=>y.dataTable.data.filter(a=>a.status==m.Not_delivered_yet).map(a=>a.id));return(a,i)=>(_(),D(N,null,[l(e(S),{title:"Заявка"}),l(R,null,{header:s(()=>i[1]||(i[1]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Заявка ",-1)])),default:s(()=>[t("div",U,[t("div",Y,[t("div",Z,[t("div",z,[l(P,{"data-table":a.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"show-trashed":!0,"advanced-filters":!1,"selected-row-indexes":x.value,"selected-row-column":"id"},{additionalContent:s(()=>[t("div",A,[l(e(u),{class:"w-full md:w-auto border border-gray-300 dark:border-gray-700 rounded-md px-5 py-1.5 active:scale-95 transition hover:bg-gray-50 dark:hover:bg-gray-800",href:a.route("product-requests.create")},{default:s(()=>i[2]||(i[2]=[q(" Създай Заявка ")])),_:1},8,["href"])])]),"cell(status)":s(({value:r,item:o})=>[t("div",G,n(e(W)(e(g)(e(m),r))),1)]),"cell(warehouse)":s(({value:r,item:o})=>[t("div",H,n(e(g)(e(j),r)),1)]),"cell(updated_at)":s(({value:r,item:o})=>[t("div",J,n(e(p)(r)),1)]),"cell(created_at)":s(({value:r,item:o})=>[t("div",O,n(e(p)(r)),1)]),"cell(action)":s(({value:r,item:o})=>[t("div",Q,[o.status==e(m).Not_delivered_yet?(_(),B(e(u),{key:0,class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Редактирай заявка",href:a.route("product-requests.edit",o.id)},{default:s(()=>[l(K,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"])):V("",!0),l(e(u),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Покажи заявка",href:a.route("product-requests.show",o.id)},{default:s(()=>[l(I,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),t("button",{title:"Изтрий заявка",class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",onClick:w=>b(o)},[l(L,{classes:"w-4 h-4 text-[#909090]"})],8,X)])]),_:1},8,["data-table","selected-row-indexes"])])])])])]),_:1}),l(F,{show:c.value,onClose:f},{default:s(()=>{var r,o;return[t("div",ee," Изтрий заявка №"+n(((r=e(d))==null?void 0:r.id)??"")+" added on "+n(e(p)((o=e(d))==null?void 0:o.created_at))+" ? ",1),t("form",{class:"col-span-2 flex justify-end gap-3 my-2 pt-1 px-4",onSubmit:M(v,["prevent"])},[l(E,{processing:e(d).processing,"recently-successful":e(d).recentlySuccessful,"is-delete":!0,onReset:i[0]||(i[0]=w=>e(d).reset())},null,8,["processing","recently-successful"])],32)]}),_:1},8,["show"])],64))}});export{he as default};
