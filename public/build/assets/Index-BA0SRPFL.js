import{d as P,m as h,T as j,g,a as e,u as t,w as s,F as C,o as b,Z as $,b as a,k as i,e as S,t as n,h as M,f as V,q as B}from"./app-2te1Vcjp.js";import{_ as E}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-Dlub-EKJ.js";import{_ as y}from"./Modal.vue_vue_type_script_setup_true_lang-CLex0mTs.js";import{_ as v}from"./Table.vue_vue_type_script_setup_true_lang-BviowTQY.js";import{_ as F,f as N,W,d as f}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BjRrkfwR.js";import{_ as q}from"./Document.vue_vue_type_script_setup_true_lang-CM2VxGxE.js";import{_ as w}from"./DocumentText.vue_vue_type_script_setup_true_lang-Y0R7DJjT.js";import{_ as I}from"./PencilSquare.vue_vue_type_script_setup_true_lang-BAC6rVCm.js";import{_ as K}from"./Trash.vue_vue_type_script_setup_true_lang-BM6q0pxz.js";import"./PrimaryButton-fLNBjBZ-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton.vue_vue_type_script_setup_true_lang-CmFkuC2U.js";import"./ApplicationLogo-Dy_Dqz-Z.js";const L={class:"py-12"},R={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Z={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},z={class:"p-6 text-gray-900 dark:text-gray-100"},A={class:"w-full flex gap-2"},G={class:"flex gap-1.5"},H={class:"flex gap-1.5"},J={class:"flex gap-1.5"},O=["onClick"],Q=["onClick"],U={key:0,class:"text-gray-900 dark:text-gray-100"},X={class:"flex gap-1.5"},Y={class:"flex gap-1.5"},ee={class:"border-b border-gray-100 dark:border-gray-700 px-3.5 p-3 text-xl font-medium"},_e=P({__name:"Index",props:{dataTable:{},showProductsDataTable:{}},setup(ae){const u=h(!1),x=()=>{u.value=!1},k=async o=>{await new Promise((c,r)=>{B.reload({data:{project_id:o},only:["showProductsDataTable"],onSuccess:c,onError:r})}),u.value=!0},p=h(!1),l=j({id:null,name:null,created_at:null}),D=o=>{l.id=o.id,l.name=o.name,l.created_at=o.created_at,p.value=!0},m=()=>{p.value=!1,l.reset()},T=()=>{l.delete(route("projects.destroy",l.id),{preserveScroll:!0}),m()};return(o,c)=>(b(),g(C,null,[e(t($),{title:"Project"}),e(F,null,{header:s(()=>c[1]||(c[1]=[a("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Project ",-1)])),default:s(()=>[a("div",L,[a("div",R,[a("div",Z,[a("div",z,[e(v,{"data-table":o.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"show-trashed":!0,"advanced-filters":!1},{additionalContent:s(()=>[a("div",A,[e(t(i),{class:"w-full md:w-auto border border-gray-300 dark:border-gray-700 rounded-md px-5 py-1.5 active:scale-95 transition hover:bg-gray-50 dark:hover:bg-gray-800",href:o.route("projects.create")},{default:s(()=>c[2]||(c[2]=[S(" Create Project ")])),_:1},8,["href"])])]),"cell(warehouse)":s(({value:r,item:d})=>[a("div",G,n(t(N)(t(W),r)),1)]),"cell(created_at)":s(({value:r,item:d})=>[a("div",H,n(t(f)(r)),1)]),"cell(action)":s(({value:r,item:d})=>[a("div",J,[e(t(i),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Edit project",href:o.route("projects.edit",d.id)},{default:s(()=>[e(I,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),e(t(i),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Show project",href:o.route("projects.show",d.id)},{default:s(()=>[e(w,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"]),a("button",{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Show products",onClick:_=>k(d.id)},[e(q,{classes:"w-4 h-4 text-[#909090]"})],8,O),a("button",{title:"Delete",class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",onClick:_=>D(d)},[e(K,{classes:"w-4 h-4 text-[#909090]"})],8,Q)])]),_:1},8,["data-table"])])])])])]),_:1}),e(y,{show:u.value,"max-width":"6xl",onClose:x},{default:s(()=>[c[3]||(c[3]=a("div",{class:"px-3.5 p-3 text-xl font-medium"}," Products ",-1)),o.showProductsDataTable?(b(),g("div",U,[e(v,{"data-table":o.showProductsDataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"advanced-filters":!1,"prop-name":"showProductsDataTable"},{"cell(created_at)":s(({value:r,item:d})=>[a("div",X,n(t(f)(r)),1)]),"cell(action)":s(({value:r,item:d})=>[a("div",Y,[e(t(i),{class:"border border-gray-300 dark:border-gray-700 rounded-md p-1 active:scale-90 transition",title:"Show product",href:o.route("products.show",d.product_id)},{default:s(()=>[e(w,{classes:"w-4 h-4 text-[#909090]"})]),_:2},1032,["href"])])]),_:1},8,["data-table"])])):M("",!0)]),_:1},8,["show"]),e(y,{show:p.value,onClose:m},{default:s(()=>{var r,d;return[a("div",ee," Delete project "+n(((r=t(l))==null?void 0:r.name)??"")+" added on "+n(t(f)((d=t(l))==null?void 0:d.created_at))+" ? ",1),a("form",{class:"col-span-2 flex justify-end gap-3 my-2 pt-1 px-4",onSubmit:V(T,["prevent"])},[e(E,{processing:t(l).processing,"recently-successful":t(l).recentlySuccessful,"is-delete":!0,onReset:c[0]||(c[0]=_=>t(l).reset())},null,8,["processing","recently-successful"])],32)]}),_:1},8,["show"])],64))}});export{_e as default};
