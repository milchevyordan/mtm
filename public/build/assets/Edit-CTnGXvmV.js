import{d as S,T as E,g,a,u as e,w as o,F as q,o as _,Z as F,b as n,f as N,l as T,t as V}from"./app-DSLhrDtp.js";import{_ as U}from"./Accordion.vue_vue_type_script_setup_true_lang-CTzQbQqR.js";import{_ as B}from"./ChangeLogs.vue_vue_type_script_setup_true_lang-UoVMZ241.js";import{_ as L}from"./ResetSaveButtons.vue_vue_type_script_setup_true_lang-6rqfukep.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-DxMfHq-p.js";import{_ as d,a as c}from"./TextInput.vue_vue_type_script_setup_true_lang-BWF5scqG.js";import{_ as P}from"./Table.vue_vue_type_script_setup_true_lang--nFMECo1.js";import{W as p,_ as j,w as C,f as D,d as I,a as M}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DFvuS7uT.js";import"./Modal.vue_vue_type_script_setup_true_lang-D2qRSkfB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-D7PndKGV.js";const Q={class:"py-12"},W={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6"},K={class:"bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},R={class:"p-6 text-gray-900 dark:text-gray-100"},Z={class:"grid lg:grid-cols-1 xl:grid-cols-2 gap-4"},z={class:"relative rounded-lg shadow-sm bg-white dark:bg-gray-800 py-4 sm:py-6 px-4 mt-4"},A={class:"text-gray-900 dark:text-gray-100"},G={class:"flex gap-1.5"},H={class:"flex gap-1.5"},ie=S({__name:"Edit",props:{product:{},dataTable:{},changeLogs:{}},setup(w){var f,y,v,x,h,b;const i=w,s=E({_method:"put",id:i.product.id,name:i.product.name,internal_id:i.product.internal_id,minimum_quantity:i.product.minimum_quantity,quantities:{Varna:((y=(f=i.product.quantity)==null?void 0:f.find(r=>r.warehouse==p.Varna))==null?void 0:y.quantity)??null,France:((x=(v=i.product.quantity)==null?void 0:v.find(r=>r.warehouse==p.France))==null?void 0:x.quantity)??null,Netherlands:((b=(h=i.product.quantity)==null?void 0:h.find(r=>r.warehouse==p.Netherlands))==null?void 0:b.quantity)??null}}),k=async r=>new Promise((l,t)=>{s.post(route("products.update",i.product.id),{preserveScroll:!0,preserveState:!0,forceFormData:!0,only:M(r),onSuccess:()=>{l()},onError:()=>{t(new Error("Error, during update"))}})});return(r,l)=>(_(),g(q,null,[a(e(F),{title:"Product"}),a(j,null,{header:o(()=>l[5]||(l[5]=[n("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Product ",-1)])),default:o(()=>[n("div",Q,[n("div",W,[n("div",K,[n("div",R,[n("div",Z,[n("form",{class:"mt-6 space-y-6",onSubmit:l[4]||(l[4]=N(t=>k(),["prevent"]))},[n("div",null,[a(d,{for:"name",value:"Name"}),a(c,{id:"name",modelValue:e(s).name,"onUpdate:modelValue":l[0]||(l[0]=t=>e(s).name=t),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(s).errors.name},null,8,["message"])]),n("div",null,[a(d,{for:"internal_id",value:"Internal Id"}),a(c,{id:"internal_id",modelValue:e(s).internal_id,"onUpdate:modelValue":l[1]||(l[1]=t=>e(s).internal_id=t),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(s).errors.internal_id},null,8,["message"])]),n("div",null,[a(d,{for:"minimum_quantity",value:"Minimum Quantity"}),a(c,{id:"minimum_quantity",modelValue:e(s).minimum_quantity,"onUpdate:modelValue":l[2]||(l[2]=t=>e(s).minimum_quantity=t),type:"number",step:"1",class:"mt-1 block w-full"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(s).errors.minimum_quantity},null,8,["message"])]),(_(!0),g(q,null,T(e(C),(t,m)=>(_(),g("div",{key:m},[a(d,{for:"quantities_"+t.name,value:`Quantity ${t.name}`},null,8,["for","value"]),a(c,{id:"quantities_"+t.name,modelValue:e(s).quantities[t.name],"onUpdate:modelValue":$=>e(s).quantities[t.name]=$,type:"number",step:"1",class:"mt-1 block w-full"},null,8,["id","modelValue","onUpdate:modelValue"]),a(u,{class:"mt-2",message:e(s).errors["quantities."+t.name]},null,8,["message"])]))),128)),a(L,{processing:e(s).processing,"recently-successful":e(s).recentlySuccessful,onReset:l[3]||(l[3]=t=>e(s).reset())},null,8,["processing","recently-successful"])],32)])])]),a(B,{"change-logs-limited":r.product.change_logs_limited,"change-logs":r.changeLogs},null,8,["change-logs-limited","change-logs"]),n("div",z,[a(U,null,{head:o(()=>l[6]||(l[6]=[n("div",{class:"font-semibold text-xl sm:text-2xl mb-4 text-gray-900 dark:text-gray-100"}," Projects ",-1)])),default:o(()=>[n("div",A,[a(P,{"data-table":r.dataTable,"per-page-options":[5,10,15,20,50],"global-search":!0,"advanced-filters":!1},{"cell(project.warehouse)":o(({value:t,item:m})=>[n("div",G,V(e(D)(e(p),m.project.warehouse)),1)]),"cell(created_at)":o(({value:t,item:m})=>[n("div",H,V(e(I)(t)),1)]),_:1},8,["data-table"])])]),_:1})])])])]),_:1})],64))}});export{ie as default};
